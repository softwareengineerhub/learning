03-Права доступа и владения файлами и диреториям

1) ls -l
выдает спиок файлов и директорий, вначале - смотрим что они обозначают
-rw-rw-r-- 1 user usegroup
-rw-rw-r-- 1 user usegroup
drwxrwxr-x 2 user usegroup


rw - read write
x - execute (запускать фаил, конечно текстовый фаил мы не запускаем)
Если в контексте директории, то без x - вы можете просомтерть саму директорию, но не можете зайти в нее

Первые пермишины - относяться к юзеру
Вторые - к группе
Третья - ко всем остальным юзерам (кто не текщуий и не в шруппе)
Вместо -может чтоять x (дополнительные пермишины)
Итого:
-rw-rw-r-- 1 user usegroup
-user-groupe-other-- 1 user usegroup


2) Первый симовл
- - фаил
d - директория
l - линк

3) Цифра в конце - сколько существует линков на этот фаил
Есои дир - значит сколько внутри директорий есть


4) Поменять owner (change owner):
sudo chown petya zzz/

5) Поменять группу и пользователя (change group)
sudo chgrp Programmers vasya.txt


6) Как изменить permissions:
Другим добавим x
chmod o+x myfile.txt

У группы уберем w:
chmod g-w myfile.txt

Можно сразу несколько:
chmod g-w,o+w myfile.txt

Назначить всем (юзеру, группе, другим) только чтение
chmod ugo=r myfile.txt

Вместо ugo можно писать a (all)
chmod a=r myfile.txt

7) Цифровой способ изменения пермишенов.
С цифпами нельзя добавить пермигенов, можно только установить

r = 4
w = 2
x = 1
- = 0

rwx - 7 (4+2+1)
rw- - 6 (4+2+0)
r-x - 5 (4+0+1)
r-- - 4 (4+0+0)
-wx - 3 (0+2+1)
-w- - 2 (0+2+0)
--x - 1 (0+0+1)
--- - 0 (0+0+0)

Для утсоановки всем пмаксимальных прав:
chmod 777 myfile.txt


8)Получается, что мы группе и себе поставили полномочий меньше чем остальным
chmod 647 myfile.txt

9)Допустим у нас есть дирекория, с максимум пермишенами
drwxrwxr-x 2 user usegroup

Зайдем в cd MySHARE/
echo "Hello" > secret_of_vasya.txt 
нам выжается ошибка Permission denied

Однако мы можем стереть этот фаил
rm secret_of_vasya.txt

10) Sticky bit
вместо x - буква t
sudo chmod o+t MySHARE/

Теперь стирать файлы может не каждый, а только владелец файла
(на sudo не распрастронеятся t)

12) Убрать стики бит
sudo chmod o-t MySHARE/

13) Стики бит серез цифпы.
Первая цифра - это стики битё
0 - убрать
1 - добавить

sudo chmod 1777 MySHARE/
sudo chmod 0777 MySHARE/